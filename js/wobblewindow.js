!function(){window.WobbleWindow=function(e,t){function o(){m.width=m.elementWidth+2*f.offsetX,m.height=m.elementHeight+2*f.offsetY,f.radius>0&&(f.pointCountX=Math.round(m.width/f.radius),f.pointCountY=Math.round(m.height/f.radius)),f.pointCountX%2==0&&(f.pointCountX=f.pointCountX+1),f.pointCountY%2==0&&(f.pointCountY=f.pointCountY+1),c.spaceX=Math.min(m.elementWidth,m.width/(f.pointCountX-1)),c.spaceY=Math.min(m.elementHeight,m.height/(f.pointCountY+1)),c.radius=Math.ceil(Math.max(c.spaceX,c.spaceY)),m.left=0,m.top=0,f.canvasWidth=m.elementWidth,f.movementLeft?(s.style.left=-c.radius+"px",f.canvasWidth+=c.radius,m.left=c.radius-f.offsetX):s.style.left=-f.offsetX+"px",f.movementRight&&(f.canvasWidth+=c.radius),f.canvasHeight=m.elementHeight,f.movementTop?(s.style.top=-c.radius+"px",f.canvasHeight+=c.radius,m.top=c.radius-f.offsetY):s.style.top=-f.offsetY+"px",f.movementBottom&&(f.canvasHeight+=c.radius),s.width=f.canvasWidth,s.height=f.canvasHeight}function n(){c.pointHolder=[];var e,t,o,n;for(t=!0,o=0,n=f.pointCountX;o<n;o++)f.movementTop?(t?(e=i(m.left+o*c.spaceX,m.top,0,0,0,!0,c.spaceX,"P",f.debug),t=!1):(e=i(m.left+o*c.spaceX,m.top,0,0,0,!0,c.spaceX,"C",f.debug),t=!0),0!==o&&o!==n-1||(e.color="#00FF00",e.movement=!1),c.pointHolder.push(e)):(0!==o&&o!==n-1||(e=i(m.left+o*c.spaceX,m.top,0,0,0,!1,0,"P",f.debug)),c.pointHolder.push(e));for(t=!1,o=1,n=f.pointCountY+1;o<n;o++)f.movementRight?(t?(e=i(m.left+m.width,m.top+o*c.spaceY,0,0,0,!0,c.spaceY,"P",f.debug),t=!1):(e=i(m.left+m.width,m.top+o*c.spaceY,0,0,0,!0,c.spaceY,"C",f.debug),t=!0),c.pointHolder.push(e)):(1===o?e=i(m.left+m.width,m.top+(o-1)*c.spaceY,0,0,0,!1,0,"P",f.debug):o===f.pointCountY&&(e=i(m.left+m.width,m.top+(o+1)*c.spaceY,0,0,0,!1,0,"P",f.debug)),c.pointHolder.push(e));for(t=!0,o=f.pointCountX-1,n=-1;o>n;o--)f.movementBottom?(t?(e=i(m.left+o*c.spaceX,m.top+m.height,0,0,0,!0,c.spaceX,"P",f.debug),t=!1):(e=i(m.left+o*c.spaceX,m.top+m.height,0,0,0,!0,c.spaceX,"C",f.debug),t=!0),0!==o&&o!==f.pointCountX-1||(e.color="#00FF00",e.movement=!1),c.pointHolder.push(e)):(0!==o&&o!==f.pointCountX-1||(e=i(m.left+o*c.spaceX,m.top+m.height,0,0,0,!1,0,"P",f.debug)),c.pointHolder.push(e));for(t=!1,o=f.pointCountY,n=-1;o>n;o--)f.movementLeft?(t?(e=i(m.left,m.top+o*c.spaceY,0,0,0,!0,c.spaceY,"P",f.debug),t=!1):(e=i(m.left,m.top+o*c.spaceY,0,0,0,!0,c.spaceY,"C",f.debug),t=!0),c.pointHolder.push(e)):(0===o?e=i(m.left,m.top+o*c.spaceY,0,0,0,!1,0,"P",f.debug):o===f.pointCountY&&(e=i(m.left,m.top+(o+1)*c.spaceY,0,0,0,!1,0,"P",f.debug)),c.pointHolder.push(e))}function i(e,t,o,n,i,l,r,a,s){var p={};return p.x=e,p.y=t,p.xp=e,p.yp=t,p.sx=0,p.sy=0,p.distance=i,p.movement=l,p.radius=r,p.type=a,p.visible=s,p}function l(){requestAnimFrame(l),function(){p.clearRect(0,0,f.canvasWidth,f.canvasHeight);var e,t,o=c.pointHolder;for(p.beginPath(),p.moveTo(o[0].x,o[0].y),e=1,t=o.length;e<t;e+=2){var n=o[e],i=d.x-n.xp,l=d.y-n.yp;n.distance=Math.sqrt(i*i+l*l),n.distance<n.radius?"wobble"===f.moveTypeIn?(n.sx=n.sx*f.wobbleFactor+(d.x-n.x)*f.wobbleSpeed,n.sy=n.sy*f.wobbleFactor+(d.y-n.y)*f.wobbleSpeed,n.x=n.x+n.sx,n.y=n.y+n.sy):"move"===f.moveTypeIn&&(n.x-=(n.x-d.x)/f.moveSpeed,n.y-=(n.y-d.y)/f.moveSpeed):"wobble"===f.moveTypeOut?(n.sx=n.sx*f.wobbleFactor+(n.xp-n.x)*f.wobbleSpeed,n.sy=n.sy*f.wobbleFactor+(n.yp-n.y)*f.wobbleSpeed,n.x=n.x+n.sx,n.y=n.y+n.sy):"move"===f.moveTypeOut&&(n.x-=(n.x-n.xp)/f.moveSpeed,n.y-=(n.y-n.yp)/f.moveSpeed);var r=o[e-1],s=o[e+1];e>2&&e<o.length-2&&(r.movement&&(r.x=(o[e-2].x+n.x)/2,r.y=(o[e-2].y+n.y)/2),s.movement&&(s.x=(o[e+2].x+n.x)/2,s.y=(o[e+2].y+n.y)/2)),p.quadraticCurveTo(n.x,n.y,s.x,s.y)}if(f.lineColor.length>0&&(p.lineWidth=f.lineWidth,p.strokeStyle=f.lineColor,p.stroke()),f.bodyColor.length>0&&(p.fillStyle=f.bodyColor,p.fill()),f.debug){for(e=0,t=o.length;e<t;e++)(n=o[e]).visible&&("P"===n.type?a(n.x,n.y,3,"#FF0000"):a(n.x,n.y,6,"#FF00FF"),n.color&&a(n.x,n.y,12,n.color));p.strokeStyle="#000000",p.strokeRect(0,0,f.canvasWidth,f.canvasHeight)}}(),f.autoResize&&(u||m.elementWidth===e.offsetWidth&&m.elementHeight===e.offsetHeight||(u=!0,m.elementWidth=e.offsetWidth,m.elementHeight=e.offsetHeight,h=window.setTimeout(r,10)))}function r(){o(),n(),u=!1}function a(e,t,o,n){p.beginPath(),p.arc(e,t,o,0,2*Math.PI),p.strokeStyle=n,p.stroke()}var s,p,d={x:0,y:0},u=!1,h=0,m={},c={},f={};if(f.name="wobblew",f.position="relative",f.depth=-1,f.overflowX="visible",f.overflowY="visible",f.offsetX=0,f.offsetY=0,f.moveTypeIn="move",f.moveTypeOut="wobble",f.wobbleFactor=.95,f.wobbleSpeed=.1,f.moveSpeed=6,f.lineWidth=1,f.transplantLineColor=!1,f.lineColor="",f.transplantBodyColor=!0,f.bodyColor="",f.radius=50,f.pointCountX=7,f.pointCountY=5,f.movementLeft=!0,f.movementRight=!0,f.movementTop=!0,f.movementBottom=!0,f.autoResize=!0,f.debug=!1,void 0!==t)for(var y in t)t.hasOwnProperty(y)&&f.hasOwnProperty(y)&&(f[y]=t[y]);if(!e)throw Error("\nNo div element found");if(f.pointCountX%2==0)throw Error("\nParam pointCountX must be an odd integer");if(f.pointCountY%2==0)throw Error("\nParam pointCountY must be an odd integer");HTMLElement.prototype.__defineGetter__("currentStyle",function(){return this.ownerDocument.defaultView.getComputedStyle(this,null)}),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},(s=document.createElement("canvas")).id=f.name,s.style.position="absolute",s.style.zIndex=f.depth.toString(),s.addEventListener("mousemove",function(e){d=function(e,t){var o=s.getBoundingClientRect();return{x:t.clientX-o.left,y:t.clientY-o.top}}(0,e)}),s.addEventListener("mouseleave",function(e){d.x=-1e4,d.y=-1e4}),p=s.getContext("2d"),e.appendChild(s),e.style.position=f.position,e.style.zIndex=(f.depth+1).toString(),f.overflowX.length>0&&(e.parentElement.style.overflowX=f.overflowX),f.overflowY.length>0&&(e.parentElement.style.overflowY=f.overflowY),f.transplantBodyColor&&e.currentStyle.backgroundColor.length>0&&(f.bodyColor=e.currentStyle.backgroundColor),f.transplantLineColor&&e.currentStyle.borderColor.length>0&&(f.lineColor=e.currentStyle.borderColor),m.elementWidth=e.offsetWidth,m.elementHeight=e.offsetHeight,o(),n(),l(),f.transplantBodyColor&&e.currentStyle.backgroundColor.length>0&&(e.className.length>0?e.className+=" wobbleTransparentBK":e.className=" wobbleTransparentBK"),f.transplantLineColor&&e.currentStyle.borderColor.length>0&&(e.className.length>0?e.className+=" wobbleTransparentLine":e.className=" wobbleTransparentLine")}}(),"undefined"!=typeof jQuery&&function(e){e.fn.wobbleWindow=function(t){var o=arguments;return this.each(function(){if(e.data(this,"plugin_WobbleWindow")){var n=e.data(this,"plugin_WobbleWindow");n[t]?n[t].apply(this,Array.prototype.slice.call(o,1)):e.error("Method "+t+" does not exist on jQuery.wobbleWindow")}else e.data(this,"plugin_WobbleWindow",new WobbleWindow(this,t))})}}(jQuery);